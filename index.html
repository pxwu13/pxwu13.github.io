<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Bootstrap required js-->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <!-- CSS-->
    <style>
        .btn-num {
            background: white;
            border: solid 0.0625rem black;
            font-size: 1rem;
            font-weight: bold;
            text-align: center;
        }

        .btn-num:hover {
            color: darkgrey;
            background: white;
            border: solid 0.0625rem black;
            font-size: 1rem;
            font-weight: bold;
            transition-duration: 0.2s;
        }

        .bg-orange {
            background-color: #fec952;
        }

        .bg-blue {
            background-color: #47b7e0;
        }

        .bg-red {
            background-color: #ff7473;
        }

        input[type="radio"] {
            display: none;
        }

        input[type="radio"]:checked+label {
            background-color: #47b7e0;
        }

        .input-num {
            text-align: right;
            pointer-events: none;
        }

        .btn-type {
            background-color: white;
            font-weight: bold;
        }

        .area-type {
            border: solid 0.125rem black;
            border-radius: .25rem;
        }

        .btn-role {
            border: solid 0.125rem black;
            font-weight: bold;
        }

        .btn-submit {
            border: solid 0.0625rem;
        }
    </style>

    <!-- Title-->
    <title>2023記帳</title>
</head>

<body>
    <div class="container">
        <!-- Submit redirect-->
        <iframe name="iframe_redirect" id="iframe_redirect" style="display:none;"
            onload="if(typeof sent_redirect!='undefined'){window.location='index.html';}"></iframe>
        <!-- Name-->
        <form onsubmit="sent_redirect=true" target="iframe_redirect"
            action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSdg8g9V9ypNBkhvMMH5LlQtrkW-91hVJZ_XoA8qhmyTib8luQ/formResponse"
            method="POST">
            <!-- 
                <div jsname="o6bZLc">
                    <input type="hidden" name="entry.136984385" value="">支出/收入
                    <input type="hidden" name="entry.962841591" value="">
                    <input type="hidden" name="entry.2007259481" value="">
                    <input type="hidden" name="entry.2034304089" value="">日期
                    <input type="hidden" name="entry.44147002" value="">咚/虎
                    <input type="hidden" name="entry.339193861" value="">家庭/個人
                </div>
            -->

            <div class="form-row px-2 mt-3 mb-2">
                <!-- 咚虎:咚/虎 44147002-->
                <div class="input-group col-3 m-0 p-0 pr-1">
                    <input type="button" class="btn btn-role bg-blue col" value="咚" id="role" />
                    <input type="hidden" name="entry.44147002" value="咚" id="role-input" />
                </div>

                <!-- 支收:支出/收入 136984385-->
                <div class="input-group area-type col m-0 p-0">
                    <input type="radio" name="entry.136984385" id="c11" value="支出" checked />
                    <label for="c11" class="btn btn-type col-6 m-0">支出</label>
                    <input type="radio" name="entry.136984385" id="c12" value="收入" />
                    <label for="c12" class="btn btn-type col-6 m-0">收入</label>
                </div>

                <!-- 公私:家庭/個人 339193861-->
                <div class="input-group col-3 m-0 p-0 pl-1">
                    <input type="button" class="btn btn-role bg-orange col" value="家庭" id="private" />
                    <input type="hidden" name="entry.339193861" value="家庭" id="private-input" />
                </div>
            </div>

            <!-- Radio type-->
            <div class="area-type px-0 mb-2">
                <div class="input-group">
                    <input type="radio" name="entry.962841591" id="size_1" value="飲食" checked />
                    <label for="size_1" class="btn btn-type col m-0">飲食</label>

                    <input type="radio" name="entry.962841591" id="size_2" value="衣飾" />
                    <label for="size_2" class="btn btn-type col m-0">衣飾</label>

                    <input type="radio" name="entry.962841591" id="size_3" value="住行" />
                    <label for="size_3" class="btn btn-type col m-0">住行</label>
                </div>
                <div class="input-group">
                    <input type="radio" name="entry.962841591" id="size_4" value="育樂" />
                    <label for="size_4" class="btn btn-type col m-0">育樂</label>

                    <input type="radio" name="entry.962841591" id="size_5" value="社交" />
                    <label for="size_5" class="btn btn-type col m-0">社交</label>

                    <input type="radio" name="entry.962841591" id="size_6" value="其他" />
                    <label for="size_6" class="btn btn-type col m-0">其他</label>
                </div>

            </div>

            <div>
                <div class="bg-orange p-2">
                    <!-- Date-->
                    <div class="form-row mb-2">
                        <div class="col">
                            <input type="date" id="date" name="entry.2034304089" class="form-control">
                        </div>
                    </div>

                    <!-- Quantity-->
                    <div class="form-row mb-2">
                        <div class="col-4 pr-0">
                            <input type="text" id="num" name="entry.2007259481" class="form-control input-num"
                                value="0">
                        </div>
                        <div class="col-8">
                            <input type="text" value="" placeholder="在此輸入備註" class="form-control">
                        </div>
                    </div>

                    <!-- Numeric Keyboard-->
                    <div class="key">
                        <div class="form-row mb-2 px-2">
                            <div class="btn btn-num col-2 mr-2 btn-cal">7</div>
                            <div class="btn btn-num col-2 mr-2 ">8</div>
                            <div class="btn btn-num col-2 mr-2 ">9</div>
                        </div>
                        <div class="form-row mb-2 px-2">
                            <div class="btn btn-num col-2 mr-2">4</div>
                            <div class="btn btn-num col-2 mr-2">5</div>
                            <div class="btn btn-num col-2 mr-2">6</div>
                        </div>
                        <div class="form-row mb-2 px-2">
                            <div class="btn btn-num col-2 mr-2">1</div>
                            <div class="btn btn-num col-2 mr-2">2</div>
                            <div class="btn btn-num col-2 mr-2">3</div>
                        </div>
                        <div class="form-row mb-2 px-2">
                            <div class="btn btn-num col-2 mr-2">0</div>
                            <div class="btn btn-num col-2 mr-2 bg-blue back">＜</div>
                            <button class="btn btn-submit col-2 mr-2 bg-red" type="submit">OK</button>
                        </div>
                    </div>
                </div>
        </form>

        <script>
            // Set default date = today
            document.getElementById('date').valueAsDate = new Date();

            // Switch role
            const role = document.getElementById('role');
            const roleInput = document.getElementById('role-input');
            role.addEventListener('click', function () {
                if (role.value == "咚") {
                    role.value = "虎";
                    roleInput.value = "虎";
                    role.classList.remove('bg-blue');
                    role.classList.add('bg-red');
                } else {
                    role.value = "咚";
                    roleInput.value = "咚";
                    role.classList.remove('bg-red');
                    role.classList.add('bg-blue');
                }
                console.log(roleInput.value);
            });

            // Switch private/family
            const private = document.getElementById('private');
            const privateInput = document.getElementById('private-input');
            private.addEventListener('click', function () {
                if (private.value == "家庭") {
                    private.value = "個人";
                    privateInput.value = "個人";
                    private.classList.remove('bg-orange');
                    private.classList.add('bg-blue');
                } else {
                    private.value = "家庭";
                    privateInput.value = "家庭";
                    private.classList.remove('bg-blue');
                    private.classList.add('bg-orange');
                }
                console.log(privateInput.value);
            });

            // Keyboard
            const keys = document.querySelector('.key');
            keys.addEventListener('touchstart', (event) => {
                const { target } = event;
                if (target.matches('.btn-num')) {
                    const display = document.getElementById('num');
                    // Backspace
                    if (target.classList.contains('back')) {
                        display.value = display.value.substring(0, display.value.length - 1);
                        if (display.value.length == 0) {
                            display.value = 0
                        }
                        return;
                    }
                    // Update display
                    if (display.value == "0") {
                        display.value = target.innerHTML;
                    } else {
                        display.value = display.value + target.innerHTML;
                    }
                }
            });
        </script>
    </div>
</body>

</html>